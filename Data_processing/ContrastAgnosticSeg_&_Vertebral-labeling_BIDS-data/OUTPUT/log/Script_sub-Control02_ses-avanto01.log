+ SUBJECT_SESSION=sub-Control02/ses-avanto01
++ date +%s
+ start=1716381990
+ sct_check_dependencies -short

--
Spinal Cord Toolbox (6.3)

sct_check_dependencies -short
--


SYSTEM INFORMATION
------------------
SCT info:
- version: 6.3
- path: /Users/mathilde/sct_6.3
OS: osx (macOS-10.16-x86_64-i386-64bit)
CPU cores: Available: 10, Used by ITK functions: 1
RAM: Total: 65536MB, Used: 4554MB, Available: 10744MB
++ cut -d / -f1
+ SUBJECT=sub-Control02
++ cut -d / -f2
+ SESSION=ses-avanto01
+ cd /Users/mathilde/Desktop/BIDS_DATASET_copy_4/OUTPUT/data_processed
+ [[ ! -f participants.tsv ]]
+ rsync -avzh /Users/mathilde/Desktop/BIDS_DATASET_copy_4/DATA/participants.tsv .
building file list ... rsync: link_stat "/Users/mathilde/Desktop/BIDS_DATASET_copy_4/DATA/participants.tsv" failed: No such file or directory (2)
done

sent 29 bytes  received 20 bytes  98.00 bytes/sec
total size is 0  speedup is 0.00
rsync error: some files could not be transferred (code 23) at /AppleInternal/Library/BuildRoots/a0876c02-1788-11ed-b9c4-96898e02b808/Library/Caches/com.apple.xbs/Sources/rsync/rsync/main.c(996) [sender=2.6.9]
+ mkdir -p sub-Control02
+ rsync -avzh --copy-links /Users/mathilde/Desktop/BIDS_DATASET_copy_4/DATA/sub-Control02/ses-avanto01 sub-Control02/
building file list ... done
ses-avanto01/
ses-avanto01/.DS_Store
ses-avanto01/anat/
ses-avanto01/anat/.DS_Store
ses-avanto01/anat/sub-Control02_ses-avanto01_acq-mprage_T1w.nii.gz

sent 10.06M bytes  received 98 bytes  20.12M bytes/sec
total size is 10.07M  speedup is 1.00
+ cd sub-Control02/ses-avanto01/anat/
+ SUBJECT=sub-Control02_ses-avanto01
++ find . -type f -name '*_T1w.nii.gz' -print
++ head -n 1
+ T1_image=./sub-Control02_ses-avanto01_acq-mprage_T1w.nii.gz
+ sct_deepseg -i ./sub-Control02_ses-avanto01_acq-mprage_T1w.nii.gz -task seg_sc_contrast_agnostic -o ./sub-Control02_ses-avanto01_acq-mprage_T1w.nii_seg.nii.gz -qc /Users/mathilde/Desktop/BIDS_DATASET_copy_4/OUTPUT/qc -qc-subject sub-Control02_ses-avanto01

--
Spinal Cord Toolbox (6.3)

sct_deepseg -i ./sub-Control02_ses-avanto01_acq-mprage_T1w.nii.gz -task seg_sc_contrast_agnostic -o ./sub-Control02_ses-avanto01_acq-mprage_T1w.nii_seg.nii.gz -qc /Users/mathilde/Desktop/BIDS_DATASET_copy_4/OUTPUT/qc -qc-subject sub-Control02_ses-avanto01
--

Creating temporary folder (/var/folders/1q/6vxfb5k57tjdzgdv6zv49t6m0000gn/T/sct_2024-05-22_14-46-46_sct_deepseg_z7g2j7rv)
Copied ./sub-Control02_ses-avanto01_acq-mprage_T1w.nii.gz to /var/folders/1q/6vxfb5k57tjdzgdv6zv49t6m0000gn/T/sct_2024-05-22_14-46-46_sct_deepseg_z7g2j7rv/sub-Control02_ses-avanto01_acq-mprage_T1w.nii.gz
Starting inference...
Inference done.
Total inference time: 1 minute(s) 38 seconds
Saving results to: /var/folders/1q/6vxfb5k57tjdzgdv6zv49t6m0000gn/T/sct_2024-05-22_14-46-46_sct_deepseg_z7g2j7rv/sub-Control02_ses-avanto01_acq-mprage_T1w_seg.nii.gz
[33mImage header specifies datatype 'float32', but array is of type '<class 'numpy.uint8'>'. Header metadata will be overwritten to use '<class 'numpy.uint8'>'.[0m

*** Generating Quality Control (QC) html report ***
Resample images to 0.600000x0.600000 vox
[33mConverting image from type 'int16' to type 'float64' for spline interpolation[0m
[33mConverting image from type 'uint8' to type 'float64' for linear interpolation[0m
Find the center of each slice
/Users/mathilde/sct_6.3/python/envs/venv_sct/lib/python3.9/site-packages/scipy/ndimage/_measurements.py:1542: RuntimeWarning: invalid value encountered in scalar divide
  results = [sum(input * grids[dir].astype(float), labels, index) / normalizer
Successfully generated the QC results in /Users/mathilde/Desktop/BIDS_DATASET_copy_4/OUTPUT/qc/_json/qc_2024_05_22_144957.858434.json

To see the results in a browser, type:
open /Users/mathilde/Desktop/BIDS_DATASET_copy_4/OUTPUT/qc/index.html


Done! To view results, type:
fsleyes sub-Control02_ses-avanto01_acq-mprage_T1w.nii.gz -cm greyscale sub-Control02_ses-avanto01_acq-mprage_T1w.nii_seg.nii.gz -cm red -a 70.0 &

+ sct_label_vertebrae -i ./sub-Control02_ses-avanto01_acq-mprage_T1w.nii.gz -s ./sub-Control02_ses-avanto01_acq-mprage_T1w.nii_seg.nii.gz -ofolder label_vertebrae -c t1 -qc /Users/mathilde/Desktop/BIDS_DATASET_copy_4/OUTPUT/qc -qc-subject sub-Control02_ses-avanto01

--
Spinal Cord Toolbox (6.3)

sct_label_vertebrae -i ./sub-Control02_ses-avanto01_acq-mprage_T1w.nii.gz -s ./sub-Control02_ses-avanto01_acq-mprage_T1w.nii_seg.nii.gz -ofolder label_vertebrae -c t1 -qc /Users/mathilde/Desktop/BIDS_DATASET_copy_4/OUTPUT/qc -qc-subject sub-Control02_ses-avanto01
--

Creating temporary folder (/var/folders/1q/6vxfb5k57tjdzgdv6zv49t6m0000gn/T/sct_2024-05-22_14-50-14_label-vertebrae_kwpzymqv)

Copying input data to tmp folder...

Straighten spinal cord...
Creating temporary folder (/var/folders/1q/6vxfb5k57tjdzgdv6zv49t6m0000gn/T/sct_2024-05-22_14-50-14_straighten-spinalcord_77eyldv6)
Copy files to tmp folder...
Fitting centerline using B-spline approximation
Error on approximation = 0.63 mm
Error on approximation = 0.08 mm
Error on approximation = 0.1 mm
Error on approximation = 0.05 mm
Error on approximation = 0.03 mm
Error on approximation = 0.02 mm
Error on approximation = 0.02 mm
Create the straight space and the safe zone
Length of spinal cord: 88.54785151118311
Size of spinal cord in z direction: 85.16605577132856
Ratio length/size: 1.0397082582870187
Safe zone boundaries (curved space): [-132.12552463584134, -46.959468864512786]
Safe zone boundaries (straight space): [-133.81642250576863, -45.26857099458551]
Pad input volume to account for spinal cord length...
Time to generate centerline: 45.0 ms
[33mImage header specifies datatype 'float32', but array is of type 'float64'. Header metadata will be overwritten to use 'float64'.[0m
Warping field generated: tmp.curve2straight.nii.gz
[33mImage header specifies datatype 'float32', but array is of type 'float64'. Header metadata will be overwritten to use 'float64'.[0m
Warping field generated: tmp.straight2curve.nii.gz
Apply transformation to input image...
/Users/mathilde/sct_6.3/bin/isct_antsApplyTransforms -d 3 -i data.nii -o tmp.anat_rigid_warp.nii.gz -t tmp.curve2straight.nii.gz -r tmp.centerline_pad_crop.nii.gz -n 'BSpline[3]' # in /private/var/folders/1q/6vxfb5k57tjdzgdv6zv49t6m0000gn/T/sct_2024-05-22_14-50-14_straighten-spinalcord_77eyldv6
Generate output files...
mv /var/folders/1q/6vxfb5k57tjdzgdv6zv49t6m0000gn/T/sct_2024-05-22_14-50-14_straighten-spinalcord_77eyldv6/tmp.curve2straight.nii.gz ./warp_curve2straight.nii.gz
File created: ./warp_curve2straight.nii.gz
mv /var/folders/1q/6vxfb5k57tjdzgdv6zv49t6m0000gn/T/sct_2024-05-22_14-50-14_straighten-spinalcord_77eyldv6/tmp.straight2curve.nii.gz ./warp_straight2curve.nii.gz
File created: ./warp_straight2curve.nii.gz
cp /var/folders/1q/6vxfb5k57tjdzgdv6zv49t6m0000gn/T/sct_2024-05-22_14-50-14_straighten-spinalcord_77eyldv6/tmp.anat_rigid_warp.nii.gz ./straight_ref.nii.gz
File created: ./data_straight.nii
Remove temporary files...
rm -rf /var/folders/1q/6vxfb5k57tjdzgdv6zv49t6m0000gn/T/sct_2024-05-22_14-50-14_straighten-spinalcord_77eyldv6

Resample to 0.5mm isotropic...
load data...

Apply straightening to segmentation...
/Users/mathilde/sct_6.3/bin/isct_antsApplyTransforms -d 3 -i segmentation.nii -o segmentation_straight.nii -t warp_curve2straight.nii.gz -r data_straightr.nii -n Linear # in /private/var/folders/1q/6vxfb5k57tjdzgdv6zv49t6m0000gn/T/sct_2024-05-22_14-50-14_label-vertebrae_kwpzymqv
[33mFile /private/var/folders/1q/6vxfb5k57tjdzgdv6zv49t6m0000gn/T/sct_2024-05-22_14-50-14_label-vertebrae_kwpzymqv/segmentation_straight.nii already exists. Will overwrite it.[0m

Create label to identify disc...
Creating temporary folder...
Creating temporary folder (/var/folders/1q/6vxfb5k57tjdzgdv6zv49t6m0000gn/T/sct_2024-05-22_14-51-02_detect-c2c3_kdhmk4ft)
Run C2-C3 detector...
[33mC2-C3 not detected...[0m
Remove temporary files...
rm -rf /var/folders/1q/6vxfb5k57tjdzgdv6zv49t6m0000gn/T/sct_2024-05-22_14-51-02_detect-c2c3_kdhmk4ft
Automatic C2-C3 detection failed. Please provide manual label with sct_label_utils
+ cd ..
+ FILES_TO_CHECK=("anat/${SUBJECT}_acq-mprage_T1w.nii_seg.nii.gz" "anat/${SUBJECT}_acq-mprage_T1w.nii_seg_labeled.nii.gz" "anat/${SUBJECT}_acq-mprage_T1w.nii_seg_labeled_discs.nii.gz")
+ for file in '${FILES_TO_CHECK[@]}'
+ [[ ! -e anat/sub-Control02_ses-avanto01_acq-mprage_T1w.nii_seg.nii.gz ]]
+ for file in '${FILES_TO_CHECK[@]}'
+ [[ ! -e anat/sub-Control02_ses-avanto01_acq-mprage_T1w.nii_seg_labeled.nii.gz ]]
+ echo 'sub-Control02_ses-avanto01/anat/sub-Control02_ses-avanto01_acq-mprage_T1w.nii_seg_labeled.nii.gz does not exist'
+ for file in '${FILES_TO_CHECK[@]}'
+ [[ ! -e anat/sub-Control02_ses-avanto01_acq-mprage_T1w.nii_seg_labeled_discs.nii.gz ]]
+ echo 'sub-Control02_ses-avanto01/anat/sub-Control02_ses-avanto01_acq-mprage_T1w.nii_seg_labeled_discs.nii.gz does not exist'
++ date +%s
+ end=1716382263
+ runtime=273
+ echo

+ echo '~~~'
~~~
++ sct_version
+ echo 'SCT version: 6.3'
SCT version: 6.3
++ uname -nsr
+ echo 'Ran on:      Darwin MacBookProKI.local 21.6.0'
Ran on:      Darwin MacBookProKI.local 21.6.0
+ echo 'Duration:    0hrs 4min 33sec'
Duration:    0hrs 4min 33sec
+ echo '~~~'
~~~
